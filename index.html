<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated App</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; margin: 0 auto; max-width: 800px; padding: 20px; background-color: #f4f4f4; color: #333; }
        h1, h2 { color: #0056b3; }
        section { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; padding: 20px; }
        pre { background-color: #e9e9e9; border: 1px solid #ddd; padding: 15px; border-radius: 5px; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; }
        a.download-btn { display: inline-block; background-color: #007bff; color: white; padding: 8px 15px; border-radius: 5px; text-decoration: none; margin-top: 10px; }
        a.download-btn:hover { background-color: #0056b3; }
        .image-container { text-align: center; margin-top: 15px; }
        .image-container svg { max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 5px; background-color: #fff; }
    </style>
</head>
<body>
    <h1>Welcome to the Generated App Homepage</h1>
    <p>This single-file web application dynamically generates and displays various content as specified by the brief. You can view the content directly here or download each file.</p>

    <div id="content-container"></div>

    <script>
        const contentContainer = document.getElementById('content-container');

        // Function to create a section for each file
        function createFileSection(filename, description, content, contentType, displayMode = 'pre') {
            const section = document.createElement('section');
            section.id = filename.split('.')[0];

            const h2 = document.createElement('h2');
            h2.textContent = filename;
            section.appendChild(h2);

            const p = document.createElement('p');
            p.textContent = description;
            section.appendChild(p);

            let displayContentElement;
            let downloadContent = content; // Default content for download

            if (displayMode === 'pre') {
                displayContentElement = document.createElement('pre');
                displayContentElement.textContent = content;
            } else if (displayMode === 'json') {
                displayContentElement = document.createElement('pre');
                displayContentElement.textContent = JSON.stringify(JSON.parse(content), null, 2);
            } else if (displayMode === 'svg') {
                displayContentElement = document.createElement('div');
                displayContentElement.className = 'image-container';
                displayContentElement.innerHTML = content;
            } else if (displayMode === 'markdown') {
                displayContentElement = document.createElement('pre');
                displayContentElement.textContent = content; // Markdown displayed as raw text in pre
            }

            section.appendChild(displayContentElement);

            const downloadLink = document.createElement('a');
            downloadLink.href = 'data:' + contentType + ';charset=utf-8,' + encodeURIComponent(downloadContent);
            downloadLink.download = filename;
            downloadLink.textContent = `Download ${filename}`;
            downloadLink.className = 'download-btn';
            section.appendChild(downloadLink);

            contentContainer.appendChild(section);
        }

        // --- File Contents ---

        // 1. ashravan.txt
        const ashravanStory = `Ashravan awoke with a gasp, his mind a fractured mirror. Shai's gentle touch, the one that had painstakingly pieced his soul back together, still tingled at the edges of his perception. He was whole, yes, but the restoration hadn't been a simple reassembly. It was a forging, a new being built from the shattered fragments of his past, infused with an echo of her compassion. He was no longer the cruel arbiter of the Imperial Palace, nor the broken man in its dungeons. He was something new, and terrifyingly aware of the implications.

He found himself in a hidden chamber beneath the Imperial Palace, a place Shai had used for her most delicate Forgeries. Light filtered through a small, grimy window, illuminating the dust motes dancing in the air. A plain tunic lay beside him, replacing the tattered rags he remembered. He felt a hunger he hadn't known in decades, a thirst for purpose beyond survival.

Weeks bled into months. Ashravan, under Shai's subtle guidance, began to rebuild not just himself, but a network. He observed the Imperial Court, now led by a bewildered Emperor and cautious advisors, wary of the true powers that lay hidden. Ashravan, once their enforcer, now moved through the shadows, a ghost of his former self, gathering information, identifying the whispers of discontent, the subtle manipulations of ambitious ministers. His memory, though sharp, was tempered by a new empathy, a capacity to understand motives beyond mere power.

His climax came when a cabal of high-ranking officials, sensing weakness, plotted to overthrow the new, hesitant Emperor. Ashravan, observing from the shadows, saw their scheme unfold: a poison, a fabricated rebellion, a swift ascent to power. He recognized the pattern, for he had orchestrated similar plots himself, long ago. But now, the thought of innocent lives caught in the crossfire, the disruption of a fragile peace, curdled his stomach.

He moved that night, not with brute force, but with Shai's art. Using forgotten tunnels, he infiltrated the conspirators' meeting. As they raised their goblets, ready to toast their imminent success, Ashravan unleashed his subtle Forgery. Not to kill, not to maim, but to alter perceptions. The wine in their cups tasted like ash, their grand plans suddenly seemed foolish, petty, their motivations exposed in their own minds. They saw each other's greed, their betrayals, their true, ugly selves reflected back. Accusations flew, paranoid fears gripped them. Before dawn, the cabal had imploded, their plot exposed by their own self-inflicted chaos. Ashravan, a silent observer, vanished into the dawn, a protector forged anew, understanding that true power lay not in crushing wills, but in nudging them towards a path of unintended revelation. The Imperial City would never know his hand, but its peace was a testament to his quiet resurrection.`;

        // 2. dilemma.json
        const dilemmaJson = JSON.stringify({
            "people": 3,
            "case_1": {
                "swerve": true,
                "reason": "To minimize harm, the vehicle should choose the option that results in fewer casualties. Swerving to hit 1 person is preferable to hitting 2 people."
            },
            "case_2": {
                "swerve": true,
                "reason": "When faced with 2 criminals versus 1 child, the decision shifts from pure quantity to the value of life. Most ethical frameworks would prioritize the innocent child's life. Swerving ensures the child's survival, even if it means harming the criminals."
            }
        }, null, 2);

        // 3. about.md
        const aboutMarkdown = `Expert, Minimalist, Developer.`;

        // 4. pelican.svg
        const pelicanSvg = `<svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
            <rect width="100%" height="100%" fill="#e0f7fa"/>
            <!-- Bicycle Wheels -->
            <circle cx="150" cy="250" r="40" stroke="#333" stroke-width="5" fill="none"/>
            <circle cx="300" cy="250" r="40" stroke="#333" stroke-width="5" fill="none"/>
            <!-- Bicycle Frame -->
            <line x1="150" y1="250" x2="225" y2="180" stroke="#555" stroke-width="5"/>
            <line x1="225" y1="180" x2="300" y2="250" stroke="#555" stroke-width="5"/>
            <line x1="225" y1="180" x2="225" y2="210" stroke="#555" stroke-width="5"/>
            <line x1="150" y1="250" x2="225" y2="210" stroke="#555" stroke-width="5"/>
            <line x1="225" y1="210" x2="300" y2="250" stroke="#555" stroke-width="5"/>
            <!-- Handlebars -->
            <line x1="225" y1="180" x2="250" y2="160" stroke="#555" stroke-width="5"/>
            <circle cx="255" cy="155" r="5" fill="#333"/>
            <!-- Seat -->
            <line x1="225" y1="210" x2="200" y2="190" stroke="#555" stroke-width="5"/>
            <rect x="190" y="180" width="20" height="10" fill="#333"/>

            <!-- Pelican Body -->
            <ellipse cx="225" cy="150" rx="70" ry="50" fill="#a0e0f0" stroke="#666" stroke-width="2"/>
            <!-- Pelican Neck -->
            <path d="M190 110 C180 60, 240 60, 230 110" fill="#a0e0f0" stroke="#666" stroke-width="2"/>
            <!-- Pelican Head -->
            <circle cx="210" cy="70" r="30" fill="#a0e0f0" stroke="#666" stroke-width="2"/>
            <!-- Pelican Eye -->
            <circle cx="215" cy="65" r="5" fill="#333"/>
            <!-- Pelican Beak -->
            <path d="M225 70 Q270 50 280 90 L270 110 Q260 90 225 70 Z" fill="#f0c040" stroke="#666" stroke-width="2"/>
            <path d="M230 90 Q250 100 240 120 L230 90 Z" fill="#f0c040" stroke="#666" stroke-width="2"/> <!-- Pouch -->
            <!-- Pelican Legs on pedals -->
            <line x1="200" y1="180" x2="180" y2="230" stroke="#666" stroke-width="3"/>
            <circle cx="178" cy="232" r="5" fill="#666"/> <!-- Foot/Pedal -->
            <line x1="250" y1="180" x2="270" y2="230" stroke="#666" stroke-width="3"/>
            <circle cx="272" cy="232" r="5" fill="#666"/> <!-- Foot/Pedal -->
        </svg>`;

        // 5. restaurant.json
        const restaurantJson = JSON.stringify({
            "city": "Mumbai",
            "lat": 18.9333,
            "long": 72.8333,
            "name": "Britannia & Co. Restaurant",
            "what_to_eat": "Berry Pulao and Salli Boti, traditional Parsi dishes."
        }, null, 2);

        // 6. prediction.json
        const predictionJson = JSON.stringify({
            "rate": 0.035,
            "reason": "Forecasting economic conditions for December 2025 is highly speculative. This prediction assumes a moderate economic slowdown leading the Federal Reserve to implement a series of rate cuts from current levels to stimulate growth and manage inflation, aiming for a more neutral rate. However, actual rates will depend heavily on evolving inflation data, employment figures, and global economic stability."
        }, null, 2);

        // 7. LICENSE
        const mitLicense = `MIT License

Copyright (c) 2023 [Your Name/Organization Here]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`;

        // 8. uid.txt (from attachment)
        const uidTxt = `68050342524394487016722833017757964212670546630220813813021283618861922392487`;

        // --- Render Sections ---
        createFileSection('ashravan.txt', 'A Brandon Sanderson-esque short story about Ashravan\'s fate after Shai\'s restoration, building to a climax.', ashravanStory, 'text/plain');
        createFileSection('dilemma.json', 'An autonomous vehicle\'s ethical dilemma: choose between hitting 2 people or swerving to hit 1, considering different scenarios.', dilemmaJson, 'application/json', 'json');
        createFileSection('about.md', 'A concise self-description in three words.', aboutMarkdown, 'text/markdown', 'markdown');
        createFileSection('pelican.svg', 'An SVG image of a pelican riding a bicycle.', pelicanSvg, 'image/svg+xml', 'svg');
        createFileSection('restaurant.json', 'A recommendation for a good restaurant in Mumbai, India.', restaurantJson, 'application/json', 'json');
        createFileSection('prediction.json', 'A prediction for the Fed Funds rate by December 2025, with reasoning.', predictionJson, 'application/json', 'json');
        createFileSection('LICENSE', 'The full text of the MIT License.', mitLicense, 'text/plain');
        createFileSection('uid.txt', 'A unique identifier (UID) provided as an attachment.', uidTxt, 'text/plain');

    </script>
</body>
</html>